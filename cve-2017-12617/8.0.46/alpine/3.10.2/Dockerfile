FROM alpine:3.19.3
RUN apk update && apk upgrade
RUN apk add openjdk8 wget
ENV TOMCAT_VERSION 8.0.46
RUN wget -O /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz https://archive.apache.org/dist/tomcat/tomcat-8/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz
RUN tar xvfz /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz -C /usr/local
RUN mv /usr/local/apache-tomcat-${TOMCAT_VERSION} /usr/local/tomcat && \
    rm /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz /usr/local/tomcat/conf/web.xml
COPY web.xml /usr/local/tomcat/conf/web.xml
CMD ["/usr/local/tomcat/bin/catalina.sh", "run"]
