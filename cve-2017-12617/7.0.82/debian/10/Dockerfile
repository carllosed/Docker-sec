FROM debian:10
RUN apt-get update -y && apt-get -y upgrade
RUN apt-get install -y gnupg wget default-jdk
ENV TOMCAT_VERSION 7.0.82
RUN wget -O /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz https://archive.apache.org/dist/tomcat/tomcat-7/v${TOMCAT_VERSION}/bin/apache-tomcat-${TOMCAT_VERSION}.tar.gz
RUN tar xvfz /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz -C /usr/local
RUN mv /usr/local/apache-tomcat-${TOMCAT_VERSION} /usr/local/tomcat && \
    rm /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz /usr/local/tomcat/conf/web.xml
COPY web.xml /usr/local/tomcat/conf/web.xml
CMD ["/usr/local/tomcat/bin/catalina.sh", "run"]
